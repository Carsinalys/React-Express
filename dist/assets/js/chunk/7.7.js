(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{253:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(6),o=n(4),c=n(8),l=n(9),s=n(5);function u(e){return a.a.createElement("svg",{className:"review__star__icon",version:"1.1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M12.9,2.6l2.3,5c0.1,0.3,0.4,0.5,0.7,0.6l5.2,0.8C22,9,22.3,10,21.7,10.6l-3.8,3.9c-0.2,0.2-0.3,0.6-0.3,0.9   l0.9,5.4c0.1,0.8-0.7,1.5-1.4,1.1l-4.7-2.6c-0.3-0.2-0.6-0.2-0.9,0l-4.7,2.6c-0.7,0.4-1.6-0.2-1.4-1.1l0.9-5.4   c0.1-0.3-0.1-0.7-0.3-0.9l-3.8-3.9C1.7,10,2,9,2.8,8.9l5.2-0.8c0.3,0,0.6-0.3,0.7-0.6l2.3-5C11.5,1.8,12.5,1.8,12.9,2.6z"}))}function v(e){return a.a.createElement("svg",{className:"review__star__icon review__star__icon__inactive",version:"1.1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M12.9,2.6l2.3,5c0.1,0.3,0.4,0.5,0.7,0.6l5.2,0.8C22,9,22.3,10,21.7,10.6l-3.8,3.9c-0.2,0.2-0.3,0.6-0.3,0.9   l0.9,5.4c0.1,0.8-0.7,1.5-1.4,1.1l-4.7-2.6c-0.3-0.2-0.6-0.2-0.9,0l-4.7,2.6c-0.7,0.4-1.6-0.2-1.4-1.1l0.9-5.4   c0.1-0.3-0.1-0.7-0.3-0.9l-3.8-3.9C1.7,10,2,9,2.8,8.9l5.2-0.8c0.3,0,0.6-0.3,0.7-0.6l2.3-5C11.5,1.8,12.5,1.8,12.9,2.6z"}))}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=function(e){var t=m(Object(r.useState)(!1),2),n=t[0],i=t[1],o=m(Object(r.useState)(null),2),p=o[0],d=o[1];return a.a.createElement("div",{className:"reviews__main__cover"},a.a.createElement(c.a,{toggle:n},a.a.createElement("div",{className:"modal__delete"},a.a.createElement("div",{className:"modal__delete__cover"},a.a.createElement("div",null,a.a.createElement("h3",null,"Are you shure?")),a.a.createElement("div",{className:"modal__delete__buttons__cover"},a.a.createElement("button",{className:"modal__delete__button",onClick:function(){e.removeReview(p),i(!1)}},"Yes"),a.a.createElement("button",{className:"modal__delete__button",onClick:function(){return i(!1)}},"Cancel"))))),a.a.createElement("div",{className:"reviews__cover__global"},Object.keys(e.reviews).map((function(t){return a.a.createElement("section",{className:"review",key:t},e.id===e.reviews[t].id?a.a.createElement("span",{className:"reviews__edit_btn","data-id":e.reviews[t]._id,onClick:function(t){return e.edit(t)}},"edit"):null,e.id===e.reviews[t].id?a.a.createElement("span",{className:"reviews__edit_btn","data-id":e.reviews[t]._id,onClick:function(e){i(!0),d(e.target.dataset.id)}},"delete"):null,a.a.createElement("div",{className:"review__head"},a.a.createElement("p",{className:"review__author"},e.reviews[t].name),a.a.createElement("p",{className:"review__rating"},function(t){for(var n=[],r=0,i=0;i<5;i++)r<+e.reviews[t].rating?(n.push(a.a.createElement(u,{key:t+i})),r++):r<6&&(n.push(a.a.createElement(v,{key:t+i})),r++);return n}(t)),a.a.createElement("p",{className:"review__date"},e.reviews[t].date.split("T")[0])),a.a.createElement("div",{className:"review__body"},a.a.createElement("p",{className:"review__text"},e.reviews[t].text)))}))),a.a.createElement("div",{className:"pagination__list"},function(){for(var t=[],n=function(n){var r="/reviews/".concat(n+1);t.push(a.a.createElement(s.c,{to:r,key:n,onClick:function(){e.changePage("?page=".concat(n+1,"&limit=5")),e.changeCurPage(n+1)},className:e.currentPageNum==n+1?"pagination__item pagination__item_active":"pagination__item"},n+1))},r=0;r<e.pagination;r++)n(r);return t}()),e.auth?a.a.createElement("div",{className:"review__add__btn__cover"},a.a.createElement("button",{className:"review__add__btn"},a.a.createElement(s.b,{to:"/reviews/addReview"},"Add new review"))):null,e.isEditMode?a.a.createElement(l.a,{to:"/reviews/addReview"}):null)},d=n(13);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?b(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(){var e,n;w(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return E(b(n=g(this,(e=h(t)).call.apply(e,[this].concat(a)))),"state",{currentPage:1,modal:!1}),E(b(n),"currentPageHandler",(function(e){n.setState({currentPage:e})})),E(b(n),"deleteReviewHandler",(function(e){n.props.deleteReviewFun(e)})),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){if(this.props.location.pathname.indexOf("/reviews/")>=0){var e=this.props.location.pathname.replace("/reviews/","").trim();this.props.getReviews("?page=".concat(e,"&limit=5")),this.setState({currentPage:e})}else this.props.getReviews("?page=1&limit=5")}},{key:"render",value:function(){return a.a.createElement("div",{className:"container reviews_container"},a.a.createElement(c.a,{toggle:this.props.isLoading},a.a.createElement(d.a,null)),a.a.createElement(c.a,{toggle:this.props.reviews.modal},a.a.createElement(d.a,null)),this.props.getReviews?a.a.createElement(p,{reviews:this.props.reviews.reviews,auth:this.props.auth.isAuthindicated,pagination:this.props.reviews.pagination,changeCurPage:this.currentPageHandler,changePage:this.props.getReviews,currentPageNum:this.state.currentPage,edit:this.props.editReviewFun,removeReview:this.deleteReviewHandler,id:this.props.auth.localId,isEditMode:this.props.isEditMode}):null)}}])&&f(n.prototype,r),i&&f(n,i),t}(a.a.Component);t.default=Object(l.g)(Object(i.b)((function(e){return{isLoading:e.reviews.isLoading,getReviews:e.reviews.getReviews,isEditMode:e.reviews.editMode,reviews:e.reviews,auth:e.auth}}),(function(e){return{getReviews:function(t){return e(Object(o.N)(t))},editReviewFun:function(t){return e(Object(o.B)(t))},deleteReviewFun:function(t){return e(Object(o.A)(t))}}}))(N))}}]);