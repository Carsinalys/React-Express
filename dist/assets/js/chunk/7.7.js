(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{135:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a.n(i),n=a(9),r=a(6),l=a(11),c=a(12),o=a(7);function d(){return s.a.createElement("svg",{className:"review__star__icon",version:"1.1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M12.9,2.6l2.3,5c0.1,0.3,0.4,0.5,0.7,0.6l5.2,0.8C22,9,22.3,10,21.7,10.6l-3.8,3.9c-0.2,0.2-0.3,0.6-0.3,0.9   l0.9,5.4c0.1,0.8-0.7,1.5-1.4,1.1l-4.7-2.6c-0.3-0.2-0.6-0.2-0.9,0l-4.7,2.6c-0.7,0.4-1.6-0.2-1.4-1.1l0.9-5.4   c0.1-0.3-0.1-0.7-0.3-0.9l-3.8-3.9C1.7,10,2,9,2.8,8.9l5.2-0.8c0.3,0,0.6-0.3,0.7-0.6l2.3-5C11.5,1.8,12.5,1.8,12.9,2.6z"}))}function m(){return s.a.createElement("svg",{className:"review__star__icon review__star__icon__inactive",version:"1.1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M12.9,2.6l2.3,5c0.1,0.3,0.4,0.5,0.7,0.6l5.2,0.8C22,9,22.3,10,21.7,10.6l-3.8,3.9c-0.2,0.2-0.3,0.6-0.3,0.9   l0.9,5.4c0.1,0.8-0.7,1.5-1.4,1.1l-4.7-2.6c-0.3-0.2-0.6-0.2-0.9,0l-4.7,2.6c-0.7,0.4-1.6-0.2-1.4-1.1l0.9-5.4   c0.1-0.3-0.1-0.7-0.3-0.9l-3.8-3.9C1.7,10,2,9,2.8,8.9l5.2-0.8c0.3,0,0.6-0.3,0.7-0.6l2.3-5C11.5,1.8,12.5,1.8,12.9,2.6z"}))}var _=e=>{const[t,a]=Object(i.useState)(!1),[n,r]=Object(i.useState)("");return s.a.createElement("div",{className:"reviews__main__cover"},s.a.createElement(l.a,{toggle:t},s.a.createElement("div",{className:"modal__delete"},s.a.createElement("div",{className:"modal__delete__cover"},s.a.createElement("div",null,s.a.createElement("h3",null,"Are you shure?")),s.a.createElement("div",{className:"modal__delete__buttons__cover"},s.a.createElement("button",{className:"modal__delete__button",onClick:()=>{e.removeReview(n),a(!1)}},"Yes"),s.a.createElement("button",{className:"modal__delete__button",onClick:()=>a(!1)},"Cancel"))))),s.a.createElement("div",{className:"reviews__cover__global"},e.reviews.map(t=>s.a.createElement("section",{className:"review",key:t._id},e.id===t.id?s.a.createElement("span",{className:"reviews__edit_btn","data-id":t._id,onClick:t=>{const a=t.target;e.edit(a.dataset.id)}},"edit"):null,e.id===t.id?s.a.createElement("span",{className:"reviews__edit_btn","data-id":t._id,onClick:e=>{const t=e.target;a(!0),r(t.dataset.id)}},"delete"):null,s.a.createElement("div",{className:"review__head"},s.a.createElement("p",{className:"review__author"},t.name),s.a.createElement("p",{className:"review__rating"},function(e){let t=[],a=0;for(let i=0;i<5;i++)a<+e.rating?(t.push(s.a.createElement(d,{key:e._id+i})),a++):a<6&&(t.push(s.a.createElement(m,{key:e._id+i})),a++);return t}(t)),s.a.createElement("p",{className:"review__date"},t.date.split("T")[0])),s.a.createElement("div",{className:"review__body"},s.a.createElement("p",{className:"review__text"},t.text))))),s.a.createElement("div",{className:"pagination__list"},(()=>{let t=[];for(let a=0;a<e.pagination;a++){let i=`/reviews/${a+1}`;t.push(s.a.createElement(o.c,{to:i,key:a,onClick:()=>{e.changePage(`page=${a+1}&limit=5`),e.changeCurPage(a+1)},className:e.currentPageNum==a+1?"pagination__item pagination__item_active":"pagination__item"},a+1))}return t})()),e.auth?s.a.createElement("div",{className:"review__add__btn__cover"},s.a.createElement("button",{className:"review__add__btn"},s.a.createElement(o.b,{to:"/reviews/addReview"},"Add new review"))):null,e.isEditMode?s.a.createElement(c.a,{to:"/reviews/addReview"}):null)},v=a(17);class w extends s.a.Component{constructor(){super(...arguments),this.state={currentPage:1,modal:!1},this.currentPageHandler=e=>{this.setState({currentPage:e})},this.deleteReviewHandler=e=>{this.props.deleteReviewFun(e)}}componentDidMount(){if(this.props.location.pathname.indexOf("/reviews/")>=0){const e=this.props.location.pathname.replace("/reviews/","").trim();this.props.getReviewsFun(`page=${e}&limit=5`),this.setState({currentPage:+e})}else this.props.getReviewsFun("page=1&limit=5")}render(){return s.a.createElement("div",{className:"container reviews_container"},s.a.createElement(l.a,{toggle:this.props.isLoading},s.a.createElement(v.a,null)),s.a.createElement(l.a,{toggle:this.props.reviews.modal},s.a.createElement(v.a,null)),this.props.getReviews?s.a.createElement(_,{reviews:this.props.reviews.reviews,auth:this.props.auth.isAuthindicated,pagination:this.props.reviews.pagination,changeCurPage:this.currentPageHandler,changePage:this.props.getReviewsFun,currentPageNum:this.state.currentPage,edit:this.props.editReviewFun,removeReview:this.deleteReviewHandler,id:this.props.auth.localId,isEditMode:this.props.isEditMode}):null)}}t.default=Object(c.g)(Object(n.b)(e=>({isLoading:e.reviews.isLoading,getReviews:e.reviews.getReviews,isEditMode:e.reviews.editMode,reviews:e.reviews,auth:e.auth}),e=>({getReviewsFun:t=>e(Object(r.N)(t)),editReviewFun:t=>e(Object(r.C)(t)),deleteReviewFun:t=>e(Object(r.B)(t))}))(w))}}]);